<div class="container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <span class="logo">ğŸ’¼ Portal Vendedor</span>
    </div>
    
    <nav class="menu">
      
      <a href="#/vendedor/requerimientos" class="nav-link">
        <span>ğŸ“</span> Mis Requerimientos
      </a>
      <a href="#/vendedor/mis-proyectos" class="nav-link">
        <span>ğŸ“Š</span> Mis Proyectos
      </a>
      <a href="#/vendedor/mi-perfil" class="nav-link">
        <span>ğŸ‘¤</span> Mi Perfil
      </a>
      <a href="#/vendedor/historial" class="nav-link">
        <span>ğŸ—’ï¸</span> Historial
      </a>
    </nav>
    
    <button class="logout" (click)="cerrarSesion()">
      ğŸ“‹ Cerrar SesiÃ³n
    </button>
  </aside>

  <!-- Main content -->
  <main class="main">
    
    <!-- Dashboard Section -->
    <section class="section active">
      
      <!-- ğŸ§¡ SECCIÃ“N DE MARCA - Conecta Solutions -->
      <div class="marca-header">
        <div class="marca-logo">
          <div class="logo-icon">âš¡</div>
          <div class="logo-text">
            <h1>Conecta Solutions</h1>
            <p>Plataforma de GestiÃ³n de Proyectos</p>
          </div>
        </div>
      </div>

      <!-- ğŸ‘‹ BIENVENIDA PERSONALIZADA -->
      <div class="bienvenida-card">
        <h2>Bienvenido, {{ vendedor?.nombre || 'Vendedor' }}</h2>
        <p>Conecta con clientes y crece</p>
      </div>

      <!-- Loading -->
      <div *ngIf="loading" class="loading-state">
        <div class="spinner"></div>
        <p>Cargando estadÃ­sticas...</p>
      </div>

      <!-- ğŸ“Š ESTADÃSTICAS DEL MES -->
      <div *ngIf="!loading" class="estadisticas-mes">
        <h3>ğŸ“Š EstadÃ­sticas del Mes</h3>
        
        <div class="stats-grid">
          <!-- Sub-tareas Activas -->
          <div class="stat-card stat-activos">
            <div class="stat-icon">ğŸ’¼</div>
            <div class="stat-info">
              <p>Sub-tareas Activas</p>
              <h2>{{ contarProyectosActivos() }}</h2>
            </div>
          </div>

          <!-- Sub-tareas Completadas -->
          <div class="stat-card stat-completados">
            <div class="stat-icon">âœ…</div>
            <div class="stat-info">
              <p>Sub-tareas Completadas</p>
              <h2>{{ contarProyectosCompletados() }}</h2>
            </div>
          </div>

          <!-- Total Ganado -->
          <div class="stat-card stat-ganancias">
            <div class="stat-icon">ğŸ’°</div>
            <div class="stat-info">
              <p>Total Ganado</p>
              <h2>${{ estadisticas.total_ganado.toFixed(2) }}</h2>
            </div>
          </div>
        </div>
      </div>

      <!-- ğŸ“‹ RESUMEN POR ESTADOS -->
      <div *ngIf="!loading" class="resumen-estados">
        <h3>ğŸ“‹ Resumen de Sub-tareas por Estado</h3>
        
        <div class="estados-grid">
          <!-- Asignadas -->
          <div class="estado-item estado-asignado">
            <div class="estado-icon">ğŸ“Œ</div>
            <div class="estado-info">
              <span class="estado-nombre">Asignadas</span>
              <span class="estado-cantidad">{{ estadisticas.asignadas }}</span>
            </div>
          </div>

          <!-- En Proceso -->
          <div class="estado-item estado-proceso">
            <div class="estado-icon">ğŸ”„</div>
            <div class="estado-info">
              <span class="estado-nombre">En Proceso</span>
              <span class="estado-cantidad">{{ estadisticas.en_progreso }}</span>
            </div>
          </div>

          <!-- Completadas -->
          <div class="estado-item estado-completado">
            <div class="estado-icon">âœ…</div>
            <div class="estado-info">
              <span class="estado-nombre">Completadas</span>
              <span class="estado-cantidad">{{ estadisticas.completadas }}</span>
            </div>
          </div>

          <!-- Canceladas -->
          <div class="estado-item estado-cancelado">
            <div class="estado-icon">âŒ</div>
            <div class="estado-info">
              <span class="estado-nombre">Canceladas</span>
              <span class="estado-cantidad">{{ estadisticas.canceladas }}</span>
            </div>
          </div>
        </div>

        <!-- Total -->
        <div class="total-proyectos">
          <span>Total de Sub-tareas:</span>
          <strong>{{ getTotalSubtareas() }}</strong>
        </div>
      </div>

    </section>

  </main>
  
</div>